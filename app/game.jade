doctype html
html
  head
    meta(charset='utf-8')
    |     
    meta(name='viewport', content='width=device-width, initial-scale=1')
    |     
    meta(name='description', content='情人節又要到了，每個人心中一定有個特別人，如果你有段話想對她、他說，但又有不知道如何開口，讓我們來幫你吧。')
    |    
    |     
    meta(property='og:title', content='情人節網路告白大行動')
    |     
    meta(property='og:image', content='http://lh5.ggpht.com/4cuZC0E0CZC3cF9RqALNKWDaCNvHHYqQ6CrA1EcQtMxLr6PNMxCZ9Sp5g7rc35G8Tv58kejfAyUmEHxXvtQmddk=w200')
    |     
    meta(property='og:url', content='http://ad.tagtoo.co/valentine_game.html')
    |     
    meta(property='og:description', content='情人節又要到了，每個人心中一定有個特別人，如果你有段話想對她、他說，但又有不知道如何開口，讓我們來幫你吧。')
    |     
    title &#x60C5;&#x4EBA;&#x7BC0;&#x7DB2;&#x8DEF;&#x544A;&#x767D;&#x5927;&#x884C;&#x52D5;
    |     
    link(href='assets/images/favicon.ico', rel='icon', type='image/x-icon')
    |     
    link(rel='stylesheet', type='text/css', href='https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.7.3/semantic.min.css')
    |     
    style(type='text/css').
      #wraper {
      width: 80%;
      margin: 0 auto;
      box-shadow: 0 0 0 0;
      /*height: 100%;*/
      }
      .input{
      width: 100%;
      margin: 2em 0;
      }
      .login {
      text-align:center;
      }
      .flow {
      display:none;
      }
      .flow .steps {
      width: 100%;
      }
      #msg.msg, #link.link {
      display:none;
      }
      body {
      background-image: url('http://lh4.ggpht.com/9zEQrQDRqWdQjdvTcRXCpjWmwI5mPn5s8QvBojLcgKT2fUdgRIZqhl3ykqZbThJolTyas7-073U1DRlqU84dcg');
      background-color: #ffffff;
      }
      .logo {
      background-image: url('http://lh4.ggpht.com/4dz8ESC5aEfkBDt4qN8U9-2Dm_PKznsi_8rYsGIjgV8feoknE-sMviCVc1AmA_OfbzAKT4vNjkatRa8_MvWd');
      width: 140px;
      height: 117px;
      margin: 50px auto 50px auto;
      }
      .top {
      background-image: url('http://lh4.ggpht.com/MNrKJzB8ZzRLvYEfW3abp02_3zJ5UY2eTqxzI42lv4kpkC7PEh-9hjCUl38tS6v3ngIjLpgU6ZWufZtQMBYPzw=h34');
      width: 100%;
      height: 34px;
      }
      .bottom {
      text-align: center;
      widows: 100%;
      height: 50px;
      background-color: #fababc;
      }
      .bottom p {
      line-height: 50px;
      font-size: 12px;
      color: #ffffff;
      }
      .bottom a {
      color: #545454;
      cursor: pointer;
      }
      .bottom a:hover {
      color: #000000;
      }
      ul {
      list-style-type:none;
      padding: 0;
      font-size: 15px;
      }
      p {
      font-size: 20px;
      color: #BA8A68;
      line-height: 30px;
      }
      h2 {
      text-align: center;
      }
      iframe {
      margin: 0 auto;
      display: block;
      /*outline: 3px solid;*/
      }
      .flow-wraper {
      max-width: 600px;
      margin: 50px auto;
      }
      .fb-share-button {
      position: absolute !important;
      top: 10px;
      right: 16px;
      }
      .fb-comments, .fb-like-box{
      text-align: center;
      display: block !important;
      margin: 0 auto;
      }
      .fb-comments iframe{
      background-color: #ffffff;
      }
      #ads {
      background-color: #fababc;
      }
      .sp {
      font-size: 30px;
      color: #5F5F5F;
      margin-right: 10px;
      }
      .list {
      font-size: 14px;
      color: #279BFC;
      line-height: 25px;
      }
      .list li {
      color: #000000;
      font-size: 14px;
      line-height: 30px;
      }
      .index {
      background-image: url('http://lh3.ggpht.com/_wf24KChsm560xm_tvtaGMtON7mLYBzO_6rIZSecNZEFZH9QXVARoC4u5tQSlq2EpHRZf4VL6FVE_4EXYwZZT-w');
      width: 17px;
      height: 20px;
      display: inline-block;
      position: relative;
      top: 7px;
      background-size: 100%;
      margin-right: 5px;
      }
      .title {
      font-size: 16px;
      }
      .val_tit {
      color: #ffffff !important;
      font-size: 25px !important;
      margin-top: 40px !important;
      }
      .warper_bottom {
      background-color: #ffffff;
      }
  body
    .ui.inline.cookie.nag(style='position:fixed;border-radius:0px;')
      span.title
        | &#x76EE;&#x524D;&#x5DF2;&#x6709; 
        span#num
        |  &#x500B;&#x4EBA;&#x544A;&#x767D;&#x6210;&#x529F;!!! &#x5FEB;&#x4F86;&#x544A;&#x767D;&#x5427;~
      // i class="close icon"></i
    |     
    .top
    |     
    #wraper.ui.compact.segment
      .logo
      // div class="fb-share-button" data-href="https://developers.facebook.com/docs/plugins/" data-layout="button_count"></div
      .fb-share-button(data-href='http://ad.tagtoo.co/valentine_game.html', data-layout='box_count')
      |         
      .ui.vertical.segment(style='box-shadow: 0 0px 0 rgba(39,41,43,.15) inset;')
        .ui.page.grid
          .column
            h2.ui.inverted.header Full Width Heading
            |               
            p
              | &#x60C5;&#x4EBA;&#x7BC0;&#x8981;&#x5230;&#x4E86;&#xFF0C;&#x6BCF;&#x500B;&#x4EBA;&#x5FC3;&#x4E2D;&#x4E00;&#x5B9A;&#x6709;&#x500B;
              class.sp(style='margin:10px;') &#x7279;&#x5225;
              | &#x7684;&#x4EBA;&#x3002;
            |               
            p(style='text-align:justify')
              | &#x5982;&#x679C;&#x4F60;&#x6709;&#x6BB5;&#x8A71;&#x60F3;&#x5C0D;&#x5979;(&#x4ED6;)&#x8AAA;&#xFF0C;&#x4F46;&#x53C8;&#x4E0D;&#x77E5;&#x9053;&#x5982;&#x4F55;&#x958B;&#x53E3;&#xFF0C;&#x8B93;&#x6211;&#x5011;&#x4F86;&#x5E6B;&#x4F60;&#x5427;&#x3002;&#x53EA;&#x8981;&#x4F9D;&#x7167;&#x4EE5;&#x4E0B;&#x6B65;&#x9A5F;&#xFF0C;&#x5148;&#x767B;&#x5165;&#x81C9;&#x66F8;&#x5E33;&#x865F;&#xFF0C;&#x518D;&#x8F38;&#x5165;&#x544A;&#x767D;&#x5C0D;&#x8C61;&#x66B1;&#x7A31;&#xFF0C;&#x4E26;&#x5BEB;&#x4E0B;&#x4E00;&#x6BB5;&#x4F60;&#x60F3;&#x5C0D;&#x5979;&#x8AAA;&#x7684;&#x8A71;&#xFF0C;&#x7CFB;&#x7D71;&#x6703;&#x81EA;&#x52D5;&#x7522;&#x51FA;&#x4E00;&#x500B;&#x77ED;&#x7DB2;&#x5740;&#x3002;
            |               
            p &#x4F60;&#x53EA;&#x8981;&#x628A;&#x7522;&#x51FA;&#x7DB2;&#x5740;&#x4E1F;&#x7D66;&#x4F60;&#x60F3;&#x8981;&#x544A;&#x767D;&#x7684;&#x5C0D;&#x8C61;&#xFF0C;&#x6211;&#x5011;&#x5C31;&#x6703;&#x628A;&#x4F60;&#x7684;&#x544A;&#x767D;&#x5167;&#x5BB9;&#x505A;&#x6210;&#x300C;&#x7DB2;&#x8DEF;&#x5EE3;&#x544A;&#x300D;&#x4E26;&#x6295;&#x653E;&#x7D66;&#x4F60;&#x7684;&#x544A;&#x767D;&#x5C0D;&#x8C61;&#xFF01;
            |               
            p
              span.sp &#x91CD;&#x9EDE;&#x662F;
              | &#x9019;&#x6BB5;&#x79D8;&#x5BC6;&#x5C0D;&#x8A71;&#xFF0C;&#x53EA;&#x6709;&#x9EDE;&#x9023;&#x7D50;&#x7684;&#x90A3;&#x500B;&#x4EBA;&#x770B;&#x7684;&#x5230;&#xFF0C;&#x5176;&#x4ED6;&#x4EBA;&#x662F;&#x770B;&#x4E0D;&#x5230;&#x7684;&#x5594;&#x3002;&#x9069;&#x7528;&#x5C0D;&#x8C61;&#xFF1A;&#x4E0D;&#x7BA1;&#x662F;&#x6697;&#x6200;&#x3001;&#x55AE;&#x6200;&#x3001;&#x60C5;&#x4EBA;&#x3001;&#x7537;&#x7537;&#x3001;&#x5973;&#x5973;&#x3001;&#x9084;&#x662F;&#x8001;&#x592B;&#x8001;&#x59BB;&#xFF0C;&#x53EA;&#x8981;&#x4F60;&#x60F3;&#x7D66;&#x67D0;&#x4EBA;&#x4E00;&#x500B;&#x4E0D;&#x4E00;&#x6A23;&#x7684;&#x60C5;&#x4EBA;&#x7BC0;&#x79AE;&#x7269;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x514D;&#x8CBB;&#x53C3;&#x52A0;&#x904A;&#x6232;&#x3002;
      |         
      .ui.vertical.segment(style='box-shadow: 0 0px 0 rgba(39,41,43,.15) inset;')
        .ui.page.grid
          .sixteen.wide.column
            ul.list
              li
                span.index
                | &#x6D3B;&#x52D5;&#x671F;&#x9593;&#xFF1A;&#x5373;&#x65E5;&#x8D77;&#x5230;&#x60C5;&#x4EBA;&#x7BC0;&#x7576;&#x5929;&#x70BA;&#x6B62; (2/14/2015)&#x3002;
              |                     
              li
                span.index(style='background-position-y:135px;')
                | &#x6D3B;&#x52D5;&#x8981;&#x6C42;&#xFF1A;&#x8981;&#x7279;&#x5225;&#x544A;&#x8A34;&#x544A;&#x767D;&#x5C0D;&#x8C61;&#xFF0C;&#x9EDE;&#x77ED;&#x7DB2;&#x5740;&#x7684;&#x6642;&#x5019;&#x8981;&#x5728;&#x684C;&#x6A5F;&#x4E0A;&#x5594;&#xFF0C;&#x76EE;&#x524D;&#x6D3B;&#x52D5;&#x4E26;&#x4E0D;&#x652F;&#x63F4;&#x884C;&#x52D5;&#x88DD;&#x7F6E;&#x3002;
              |                     
              li
                span.index(style='background-position-y:35px;')
                | &#x7279;&#x5225;&#x63D0;&#x793A;&#xFF1A;&#x5982;&#x679C;&#x60F3;&#x8981;&#x50B3;&#x7D66;&#x591A;&#x500B;&#x5C0D;&#x8C61;&#xFF0C;&#x6BCF;&#x6B21;&#x90FD;&#x8981;&#x7522;&#x751F;&#x65B0;&#x7684;&#x7DB2;&#x5740;&#x5594;&#xFF0C;&#x8981;&#x4E0D;&#x7136;&#x5F8C;&#x679C;&#x53EF;&#x80FD;&#x6703;&#x96E3;&#x4EE5;&#x60F3;&#x50CF;&#x3002;
              |                     
              li
                span.index(style='background-position-y:19px;top: 5px;')
                | &#x6B64;&#x6D3B;&#x52D5;&#x7531;&#x5854;&#x5716;&#x79D1;&#x6280;&#x8D0A;&#x52A9;&#xFF0C;&#x5854;&#x5716;&#x79D1;&#x6280;&#x662F;&#x4E00;&#x9593;&#x63D0;&#x4F9B;&#x7CBE;&#x51C6;&#x5EE3;&#x544A;&#x6295;&#x905E;&#x7684;&#x5EE3;&#x544A;&#x6280;&#x8853;&#x516C;&#x53F8;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x95DC;&#x65BC;&#x5EE3;&#x544A;&#x6295;&#x653E;&#x8CC7;&#x8A0A;&#xFF0C;&#x8ACB;&#x9020;&#x8A2A; 
                a#tagtoo_website(href='http://www.tagtoo.com.tw', target='_blank') &#x5854;&#x5716;&#x5B98;&#x65B9;&#x7DB2;&#x7AD9;
                | &#x3002;
            |                 
            .fb-like-box(data-href='https://www.facebook.com/TagtooFans', data-width='700', data-colorscheme='light', data-show-faces='true', data-header='false', data-stream='false', data-show-border='false')
    |     
    #ads.ui.vertical.segment(style='box-shadow: 0 0px 0 rgba(39,41,43,.15) inset;padding: 50px 0;')
      .ui.page.grid
        .ui.horizontal.divider.val_tit
          | &#x544A;&#x767D;&#x5EE3;&#x544A;&#x793A;&#x610F;&#x5716;
        |         
        .sixteen.wide.column
          h2 &#x544A;&#x767D; A &#x7248;&#x578B;
          |             
          iframe(src='http://ad.tagtoo.co/ad/show/1669', frameborder='0', width='620', height='150', scrolling='no')
          |             
          |             
          h2 &#x544A;&#x767D; B &#x7248;&#x578B;
          |             
          iframe(src='http://ad.tagtoo.co/ad/show/1668', frameborder='0', width='300', height='250', scrolling='no')
        |         
        .eight.wide.column
          h2 &#x544A;&#x767D; C &#x7248;&#x578B;
          |             
          iframe(src='http://ad.tagtoo.co/ad/show/1670', frameborder='0', width='120', height='600', scrolling='no')
        |         
        .eight.wide.column
          h2 &#x544A;&#x767D; D &#x7248;&#x578B;
          |             
          iframe(src='http://ad.tagtoo.co/ad/show/1671', frameborder='0', width='160', height='600', scrolling='no')
    |         
    |     
    .warper_bottom
      .ui.vertical.segment(style='box-shadow: 0 0px 0 rgba(39,41,43,.15) inset;')
        .ui.page.grid
          .sixteen.wide.column
            .ui.horizontal.divider
              | start
            |                 
            .flow-wraper
              .login
                #login.ui.facebook.button.massive(onclick="VALENTINE.login();ga('send', 'event', 'button', 'click', 'login');")
                  i.facebook.icon
                  |  &#x5927;&#x8072;&#x544A;&#x767D;
              |                     
              #flow.flow
                .ui.ordered.steps
                  #step1.active.step
                    .content
                      .title &#x5C0D;&#x8AB0;&#x544A;&#x767D;
                      |                                     
                      .description &#x8F38;&#x5165;&#x4F60;&#x60F3;&#x8981;&#x544A;&#x767D;&#x7684;&#x5C0D;&#x8C61;
                  |                             
                  #step2.disabled.step
                    .content
                      .title &#x544A;&#x767D;&#x5427;
                      |                                     
                      .description &#x8F38;&#x5165;&#x4F60;&#x60F3;&#x8981;&#x544A;&#x767D;&#x7684;&#x5167;&#x5BB9;
                  |                             
                  #step3.disabled.step
                    .content
                      .title &#x606D;&#x559C;
                      |                                     
                      .description &#x628A;&#x9023;&#x7D50;&#x5206;&#x4EAB;&#x7D66;&#x4F60;&#x7684;&#x544A;&#x767D;&#x5C0D;&#x8C61;
                |                         
                #name.ui.left.icon.action.input.name
                  i.user.icon
                  |                             
                  input(type='text', placeholder='你要告白的對象名稱')
                  |                             
                  .ui.blue.submit.button &#x78BA;&#x8A8D;
                |                         
                #msg.ui.left.icon.action.input.msg
                  i.smile.icon
                  |                             
                  input(type='text', placeholder='你要告白的內容')
                  |                             
                  .ui.blue.submit.button &#x78BA;&#x8A8D;
                |                         
                #link.ui.action.input.link
                  input(type='text')
                  |                             
                  #copy-button.ui.blue.submit.button(data-clipboard-text='Copy Me～～') copy
      |         
      .ui.vertical.segment(style='box-shadow: 0 0px 0 rgba(39,41,43,.15) inset;')
        .ui.page.grid
          .sixteen.wide.column
            .fb-comments(data-href='http://ad.tagtoo.co/valentine_game.html', data-width='600', data-numposts='5', data-colorscheme='light')
    |     
    |     
    .bottom
      p
        | &copy; 2015 
        a#footer_tagtoo_website(href='http://www.tagtoo.com.tw/', target='_blank', style='margin: 5px;') Tagtoo &#x5854;&#x5716;&#x79D1;&#x6280;
        |  All copyright 
        a#footer_tagtoo_privacy(href='http://www.tagtoo.com.tw/privacy', target='_blank', style='margin: 5px;') &#x96B1;&#x79C1;&#x6B0A;&#x653F;&#x7B56;
    |     
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js')
    |     
    script(src='https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.7.3/semantic.min.js')
    |     
    script(src='/valentine_static/ZeroClipboard.js')
    // Google Tag Manager
    noscript
      iframe(src='//www.googletagmanager.com/ns.html?id=GTM-K3RG5R', height='0', width='0', style='display:none;visibility:hidden')
    |     
    script.
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-K3RG5R');
    // End Google Tag Manager
    script(type='text/javascript').
      var VALENTINE = {
      num: 0,
      resourse: "/valentine/api/valentineinfo",
      id: undefined,
      photo: undefined,
      name: undefined,
      fbid: undefined,
      success: 0,
      login: function () {
      var that = this;
      FB.login(function(response) {
      if (response.authResponse) {
      // console.log('Welcome!  Fetching your information.... ');
      //console.log(response); // dump complete info
      access_token = response.authResponse.accessToken; //get access token
      user_id = response.authResponse.userID; //get FB UID
      FB.api('/me', function(response) {
      // console.log('Successful login for: ' + response.id);
      that.name = response.name;
      that.fbid = response.id;
      that.display();
      });
      FB.api('/me/picture?width=200&height=200', function(response) {
      that.photo = response.data.url;
      that.display();
      });
      } else {
      //user hit cancel button
      console.log('User cancelled login or did not fully authorize.');
      }
      }, {
      scope: 'publish_stream,email,user_about_me,user_photos'
      });
      },
      display: function () {
      this.num+=1;
      if(this.num == 2) {
      $('#login').css('display','none');
      $('#flow').css('display','block');
      }
      },
      finish: function (obj, o) {
      $(obj).removeClass('active').addClass('completed');
      $(o).css('display','none');
      },
      start: function (obj, o) {
      $(obj).removeClass('disabled').addClass('active');
      $(o).css('display','table');
      },
      nameConfirm: function (event) {
      // if(event.type == 'click' || event.which == 13 ) {
      var name = $('#name input').val();
      var validate = VALENTINE.validate(name, 10, "告白對象暱稱不可以超過五個字唷（英文不可以超過十個字）!");
      if (validate) {
      var a = confirm("確定要告白的對象叫做『" + name + "』");
      }
      if (a && validate) {
      VALENTINE.finish('#step1', '#name');
      VALENTINE.start('#step2', '#msg');
      $('#msg input').focus();
      } else {
      return false
      }
      // }
      },
      msgConfirm: function () {
      // if(event.type == 'click' || event.which == 13 ) {
      var msg = $('#msg input').val();
      var validate = VALENTINE.validate(msg, 40, "告白對象暱稱不可以超過二十個字唷（英文不可以超過四十個字）!");
      if (validate) {
      var a = confirm("確定要告白的內容是『" + msg + "』");
      }
      if (a && validate) {
      VALENTINE.finish('#step2', '#msg');
      VALENTINE.start('#step3', '#link');
      VALENTINE.submit();
      } else {
      return false
      }
      // }
      },
      copy: function () {
      // if(event.type == 'click' || event.which == 13 ) {
      $('#step3').removeClass('active').addClass('completed');
      // }
      },
      submit: function () {
      var that = this;
      var $name = $('#name input').val();
      var $msg = $('#msg input').val();
      var $input = $('#link input');
      var obj = {
      name: this.name,
      photo: this.photo,
      who: $name,
      commit: $msg,
      id: this.fbid
      };
      $.post(this.resourse, obj, function(data,status){
      var data = JSON.parse(data);
      that.id = data.id;
      var val = 'https://' + document.location.host + '/valentine_card.html?id=' + that.id;
      // console.log(val)
      $input.val(val).attr('data-clipboard-text', val);
      });
      },
      validate: function (str, max, msg) {
      if(str.replace(/[^\\x00-\xff]/g,"**").length > max) {
      alert(msg)
      return false
      } else {
      return true
      }
      },
      count: function () {
      $.get("/valentine/api/valentinecount", {}, function(data,status){
      // console.log(data)
      data = JSON.parse(data)
      if(data.count > 0) {
      $('#num').text(data.count);
      $(window).scroll(function(){
      // console.log('捲動')
      var he = $('body').scrollTop();
      if(he > 200) {
      // $('.cookie.nag').nag('show');
      $('.cookie.nag').show(0);
      } else {
      $('.cookie.nag').hide(0);
      // $('.close').click()
      }
      });
      }
      });
      }
      }
      var tagtoo_advertiser_id = 251;
      var tagtoo_ga = document.createElement('script');
      tagtoo_ga.type = 'text/javascript';
      tagtoo_ga.async = true;
      tagtoo_ga.src = '//ad.tagtoo.co/media/ad/track.js';
      var tagtoo_s = document.getElementsByTagName('script')[0];
      tagtoo_s.parentNode.insertBefore(tagtoo_ga, tagtoo_s);
      if (typeof TagtooTagManager == "undefined") {
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','TagtoodataLayer','GTM-MHN67X');
      TagtooTagManager = true;
      };
      window.fbAsyncInit = function() {
      FB.init({
      appId: '776675399034344',
      cookie: true, // enable cookies to allow the server to access
      // the session
      xfbml: true, // parse social plugins on this page
      version: 'v2.1' // use version 2.1
      });
      };
      // Load the SDK asynchronously
      (function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s);
      js.id = id;
      js.src = "//connect.facebook.net/en_US/sdk.js";
      fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'facebook-jssdk'));
      $(function(){
      $( "#name" ).keypress(function( event ) { if ( event.which == 13 ) { event.preventDefault(); VALENTINE.nameConfirm(); } });
      $( "#msg" ).keypress(function( event ) { if ( event.which == 13 ) { event.preventDefault(); VALENTINE.msgConfirm(); } });
      $( "#link" ).keypress(function( event ) { if ( event.which == 13 ) { event.preventDefault(); VALENTINE.copy(); } });
      $( "#name .button" ).on({
      click: VALENTINE.nameConfirm,
      keypress: VALENTINE.nameConfirm
      });
      $( "#msg .button" ).on({
      click: VALENTINE.msgConfirm,
      keypress: VALENTINE.msgConfirm
      });
      $( "#link .button" ).on({
      click: VALENTINE.copy,
      keypress: VALENTINE.copy
      });
      VALENTINE.count();
      var client = new ZeroClipboard( document.getElementById("copy-button") );
      client.on( "ready", function( readyEvent ) {
      // alert( "ZeroClipboard SWF is ready!" );
      client.on( "copy", function (event) {
      var clipboard = event.clipboardData;
      var val = 'https://' + document.location.host + '/valentine_card.html?id=' + VALENTINE.id;
      clipboard.setData("text/plain", val);
      });
      client.on( "aftercopy", function( event ) {
      // `this` === `client`
      // `event.target` === the element that was clicked
      // event.target.style.display = "none";
      alert("複製成功: " + event.data["text/plain"] );
      } );
      } );
      });
